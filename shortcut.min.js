/**
 * shortcut.js 
 * @version 1.5.0 
 * @author Blaine Kasten <blainekasten@gmail.com> 
 * @license MIT 
 */ 

!function(e){function t(){return void 0===l[this.keys]&&(l[this.keys]=this.selector),this.isPaused=!0,this}function n(){return l[this.keys]&&delete l[this.keys],this.isPaused=!1,this}function o(){if(!m&&!this.isPaused){var e=this.functions,t={preventDefault:function(){}};for(var n in e)e[n](t);return this}}function r(){return h[this.keys][this.selector]=[],this}function i(){var e=function(e){return e.preventDefault(),!1};return this.bindsTo(e),this}function s(e){return"function"!=typeof e?a("You must pass a function to the bindsTo functoin"):(h[this.keys][this.selector].push(e),this)}function c(e){return document.querySelector(e)}function a(e){throw new Error(e)}function u(e){downKeys.push(f(e));var t,n=downKeys.join(" ");if(!m&&(t=y(n,e.target.selector),t.functions&&t.functions.length)){if(downKeys=[],t.isPaused)return;for(var o in t.functions)t.functions[o](e)}}function d(e){index=downKeys.indexOf(f(e)),-1!==index&&downKeys.splice(index,1)}function f(e){var t;switch(e.keyCode){case 224:t="meta";break;case 91:t="meta";break;case 16:t="shift";break;case 18:t="optn";break;case 17:t="ctrl";break;case 32:t="space";break;case 40:t="down";break;case 39:t="right";break;case 38:t="up";break;case 37:t="left";break;case 9:t="tab";break;case 13:t="rtn"}return t||(t=String.fromCharCode(e.keyCode||e.charCode).toLowerCase()),t}var h,l,v,y,m,k,b;k=e.shortcut,b=!1,e.addEventListener("keydown",u),e.addEventListener("keyup",d),h={},l={},v=[],downKeys=[],y=function(e,a){var u,d;return e&&"string"==typeof e?(a=a||"body",void 0===h[e]&&(h[e]={}),void 0===h[e][a]&&(h[e][a]=[]),v.push(e),b&&(u=c(a),u&&(u.selector=a)),d=l[e]===a?!0:!1,{bindsTo:s,preventDefault:i,pause:t,resume:n,trigger:o,unbind:r,isPaused:d,keys:e,selector:a,get functions(){return h[e][a]}}):!1},y.noConflict=function(){return e.shortcut=k,this},y.pause=function(){return m=!0,y},y.resume=function(){return m=!1,y},function(){function t(){if(b=!0,!n){n=!0,document.querySelector("body").selector="body";for(var e in h){var t=h[e];for(var o in t){var r=c(o);if(!r)return void a("An element was not found for selector: "+selector);r.selector=o}}}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){var o;try{o=null!==e.frameElement}catch(r){}if(document.documentElement.doScroll&&!o){var i=function(){if(!n)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(i,10)}};i()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(e.addEventListener)e.addEventListener("load",t,!1);else if(e.attachEvent)e.attachEvent("onload",t);else{var s=e.onload;e.onload=function(){s&&s(),t()}}}(),e.shortcut=y,"function"==typeof define&&define.amd&&define(y)}(window);