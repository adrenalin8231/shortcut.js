/**
 * shortcut.js 
 * @version 1.3.1 
 * @author Blaine Kasten <blainekasten@gmail.com> 
 * @license MIT 
 */ 

!function(e){function t(){if(!m){var e=this.functions,t={preventDefault:function(){}};for(var n in e)e[n](t);return this}}function n(){return l[this.keys][this.selector]=[],this}function o(){var e=function(e){return e.preventDefault(),!1};return this.bindsTo(e),this}function r(e){return"function"!=typeof e?c("You must pass a function to the bindsTo functoin"):(l[this.keys][this.selector].push(e),this)}function i(e){return document.querySelector(e)}function c(e){void 0===console?"":void 0===console.error?console.log(e):console.error(e)}function a(e){if(downKeys.push(s(e)),!m)for(var t in v){var n=v[t];if(f(downKeys,n.split(" "))){var o=l[n][e.target.selector];downKeys=[];for(var r in o)o[r](e)}}}function u(e){index=downKeys.indexOf(s(e)),-1!==index&&downKeys.splice(index,1)}function s(e){var t;switch(e.keyCode){case 224:t="meta";break;case 91:t="meta";break;case 16:t="shift";break;case 18:t="optn";break;case 17:t="ctrl";break;case 32:t="space";break;case 40:t="down";break;case 39:t="right";break;case 38:t="up";break;case 37:t="left";break;case 9:t="tab";break;case 13:t="rtn"}return t||(t=String.fromCharCode(e.keyCode||e.charCode).toLowerCase()),t}function d(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function f(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(!d(t,e[n]))return!1;return!0}var l,v,h,m,y=e.shortcut;e.addEventListener("keydown",a),e.addEventListener("keyup",u),l={},v=[],downKeys=[],h=function(e,i){var c=!1;return e?(i=i||"body",void 0===l[e]&&(l[e]={}),void 0===l[e][i]?l[e][i]=[]:c=!0,v.push(e),{bindsTo:r,preventDefault:o,trigger:t,unbind:n,keys:e,selector:i,get functions(){return l[e][i]}}):!1},h.noConflict=function(){return e.shortcut=y,this},h.pause=function(){return m=!0,h},h.resume=function(){return m=!1,h},function(){function t(){if(!n){n=!0,document.querySelector("body").selector="body";for(var e in l){var t=l[e];for(var o in t){var r=i(o);if(!r)return void c("An element was not found for selector: "+selector);r.selector=o}}}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){var o;try{o=null!==e.frameElement}catch(r){}if(document.documentElement.doScroll&&!o){var a=function(){if(!n)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(a,10)}};a()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(e.addEventListener)e.addEventListener("load",t,!1);else if(e.attachEvent)e.attachEvent("onload",t);else{var u=e.onload;e.onload=function(){u&&u(),t()}}}(),e.shortcut=h,"function"==typeof define&&define.amd&&define(h)}(window);