/**
 * shortcut.js 
 * @version 1.4.0 
 * @author Blaine Kasten <blainekasten@gmail.com> 
 * @license MIT 
 */ 

!function(e){function t(){return void 0===y[this.keys]&&(y[this.keys]={}),void 0===y[this.keys][this.selector]&&(y[this.keys][this.selector]=this.functions),this.unbind(),this}function n(){var e=this.pausedFunctions;return v[this.keys][this.selector]=e,this}function o(){if(!k){var e=this.functions,t={preventDefault:function(){}};for(var n in e)e[n](t);return this}}function r(){return v[this.keys][this.selector]=[],this}function i(){var e=function(e){return e.preventDefault(),!1};return this.bindsTo(e),this}function s(e){return"function"!=typeof e?u("You must pass a function to the bindsTo functoin"):(v[this.keys][this.selector].push(e),this)}function c(e){return document.querySelector(e)}function u(e){void 0===console?"":void 0===console.error?console.log(e):console.error(e)}function a(e){if(downKeys.push(f(e)),!k)for(var t in m){var n=m[t];if(h(downKeys,n.split(" "))){var o=v[n][e.target.selector];downKeys=[];for(var r in o)o[r](e)}}}function d(e){index=downKeys.indexOf(f(e)),-1!==index&&downKeys.splice(index,1)}function f(e){var t;switch(e.keyCode){case 224:t="meta";break;case 91:t="meta";break;case 16:t="shift";break;case 18:t="optn";break;case 17:t="ctrl";break;case 32:t="space";break;case 40:t="down";break;case 39:t="right";break;case 38:t="up";break;case 37:t="left";break;case 9:t="tab";break;case 13:t="rtn"}return t||(t=String.fromCharCode(e.keyCode||e.charCode).toLowerCase()),t}function l(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function h(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(!l(t,e[n]))return!1;return!0}var v,y,m,b,k,p=e.shortcut;e.addEventListener("keydown",a),e.addEventListener("keyup",d),v={},y={},m=[],downKeys=[],b=function(e,c){return e?(c=c||"body",void 0===v[e]&&(v[e]={}),void 0===v[e][c]&&(v[e][c]=[]),m.push(e),{bindsTo:s,preventDefault:i,pause:t,resume:n,trigger:o,unbind:r,keys:e,selector:c,get functions(){return v[e][c]},get pausedFunctions(){return y[e][c]}}):!1},b.noConflict=function(){return e.shortcut=p,this},b.pause=function(){return k=!0,b},b.resume=function(){return k=!1,b},function(){function t(){if(!n){n=!0,document.querySelector("body").selector="body";for(var e in v){var t=v[e];for(var o in t){var r=c(o);if(!r)return void u("An element was not found for selector: "+selector);r.selector=o}}}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){var o;try{o=null!==e.frameElement}catch(r){}if(document.documentElement.doScroll&&!o){var i=function(){if(!n)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(i,10)}};i()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(e.addEventListener)e.addEventListener("load",t,!1);else if(e.attachEvent)e.attachEvent("onload",t);else{var s=e.onload;e.onload=function(){s&&s(),t()}}}(),e.shortcut=b,"function"==typeof define&&define.amd&&define(b)}(window);