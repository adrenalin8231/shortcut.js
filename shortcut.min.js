/**
 * shortcut.js 
 * @version 1.5.3 
 * @author Blaine Kasten <blainekasten@gmail.com> 
 * @license MIT 
 */ 

!function(e){function t(){return void 0===l[this.keys]&&(l[this.keys]=this.selector),this.isPaused=!0,this}function n(){return l[this.keys]&&delete l[this.keys],this.isPaused=!1,this}function r(){if(!m&&!this.isPaused){var e=this.functions(),t={preventDefault:function(){}};for(var n in e)e[n](t);return this}}function o(){return h[this.keys][this.selector]=[],this}function i(){var e=function(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,!1};return this.bindsTo(e),this}function s(e){return"function"!=typeof e?c("You must pass a function to the bindsTo functoin"):(h[this.keys][this.selector].push(e),this)}function a(e){return document.querySelector(e)}function c(e){throw new Error(e)}function u(e){downKeys.push(f(e));var t,n,r=e.srcElement?e.srcElement.selector:e.target.selector,o=downKeys.join(" ");if(!m&&(t=y(o,r),n=t.functions(),n&&n.length)){if(downKeys=[],t.isPaused)return;for(var i in n)n[i](e)}}function d(e){var t=downKeys.indexOf(f(e));-1!==t&&downKeys.splice(t,1)}function f(e){var t,n=/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl",r={};switch(r[n]="mod",e.keyCode){case 224:t="meta";break;case 91:t="meta";break;case 16:t="shift";break;case 18:t="optn";break;case 17:t="ctrl";break;case 32:t="space";break;case 40:t="down";break;case 39:t="right";break;case 38:t="up";break;case 37:t="left";break;case 9:t="tab";break;case 13:t="rtn"}return r[t]&&(t=r[t]),t||(t=String.fromCharCode(e.keyCode||e.charCode).toLowerCase()),t}var h,l,v,y,m,p,k;p=e.shortcut,k=!1,e.addEventListener?(e.addEventListener("keydown",u),e.addEventListener("keyup",d)):(document.attachEvent("onkeydown",u),document.attachEvent("onkeyup",d)),h={},l={},v=[],downKeys=[],y=function(e,c){var u,d,f;return e&&"string"==typeof e?(c=c||"body",void 0===h[e]&&(h[e]={}),void 0===h[e][c]&&(h[e][c]=[]),v.push(e),k&&(u=a(c),u&&(u.selector=c)),d=l[e]===c?!0:!1,f=function(){return h[e][c]},{bindsTo:s,preventDefault:i,pause:t,resume:n,trigger:r,unbind:o,isPaused:d,keys:e,selector:c,functions:f}):!1},y.noConflict=function(){return e.shortcut=p,this},y.pause=function(){return m=!0,y},y.resume=function(){return m=!1,y},function(){function t(){if(k=!0,!n){n=!0,document.querySelector("body").selector="body";for(var e in h){var t=h[e];for(var r in t){var o=a(r);if(!o)return void c("An element was not found for selector: "+selector);o.selector=r}}}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){var r;try{r=null!==e.frameElement}catch(o){}if(document.documentElement.doScroll&&!r){var i=function(){if(!n)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(i,10)}};i()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(e.addEventListener)e.addEventListener("load",t,!1);else if(e.attachEvent)e.attachEvent("onload",t);else{var s=e.onload;e.onload=function(){s&&s(),t()}}}(),e.shortcut=y,"function"==typeof e.define&&e.define.amd&&e.define("shortcut",[],function(){return y}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1})}(window);