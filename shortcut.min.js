/**
 * shortcut.js 
 * @version 1.3.0 
 * @author Blaine Kasten <blainekasten@gmail.com> 
 * @license MIT 
 */ 

!function(e){function n(){var e=function(e){return e.preventDefault(),!1};this.bindsTo(e)}function t(e){return"function"!=typeof e?r("You must pass a function to the bindsTo functoin"):(d[this.keys][this.selector].push(e),this)}function o(e){return document.querySelector(e)}function r(e){void 0===console?"":void 0===console.error?console.log(e):console.error(e)}function a(e){downKeys.push(i(e)),console.log(downKeys),console.log(f);for(var n in f){var t=f[n];if(u(downKeys,t.split(" "))){var o=d[t][e.target.selector];downKeys=[];for(var r in o)o[r](e)}}}function c(e){index=downKeys.indexOf(i(e)),-1!==index&&downKeys.splice(index,1)}function i(e){var n;switch(e.keyCode){case 224:n="meta";break;case 91:n="meta";break;case 16:n="shift";break;case 18:n="optn";break;case 17:n="ctrl";break;case 32:n="space";break;case 40:n="down";break;case 39:n="right";break;case 38:n="up";break;case 37:n="left";break;case 9:n="tab";break;case 13:n="rtn"}return n||(n=String.fromCharCode(e.keyCode||e.charCode).toLowerCase()),n}function s(e,n){for(var t=e.length;t--;)if(e[t]===n)return!0;return!1}function u(e,n){if(e.length!==n.length)return!1;for(var t=e.length;t--;)if(!s(n,e[t]))return!1;return!0}var d,f,l,v=e.shortcut;e.addEventListener("keydown",a),e.addEventListener("keyup",c),d={},f=[],downKeys=[],l=function(e,o){var r=!1;return o=o||"body",void 0===d[e]&&(d[e]={}),void 0===d[e][o]?d[e][o]=[]:r=!0,f.push(e),{bindsTo:t,preventDefault:n,keys:e,selector:o,pause:_pause,resume:_resume,get functions(){return d[o][e]}}},function(){function n(){if(!t){t=!0,document.querySelector("body").selector="body";for(var e in d){var n=d[e];for(var a in n){var c=o(a);if(!c)return void r("An element was not found for selector: "+selector);c.selector=a}}}}var t=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1);else if(document.attachEvent){var a;try{a=null!==e.frameElement}catch(c){}if(document.documentElement.doScroll&&!a){var i=function(){if(!t)try{document.documentElement.doScroll("left"),n()}catch(e){setTimeout(i,10)}};i()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()})}if(e.addEventListener)e.addEventListener("load",n,!1);else if(e.attachEvent)e.attachEvent("onload",n);else{var s=e.onload;e.onload=function(){s&&s(),n()}}}(),l.noConflict=function(){return e.shortcut=v,this},e.shortcut=l,"function"==typeof define&&define.amd&&define(l)}(window);