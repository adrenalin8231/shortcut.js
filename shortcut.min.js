/**
 * shortcut.js 
 * @version 1.2.0 
 * @author Blaine Kasten <blainekasten@gmail.com> 
 * @license MIT 
 */ 

!function(e){function t(){var e=function(e){return e.preventDefault(),!1};this.bindsTo(e)}function n(e){return"function"!=typeof e?r("You must pass a function to the bindsTo functoin"):(u[this.keys][this.selector].push(e),this)}function o(e){return document.querySelector(e)}function r(e){void 0===console?"":void 0===console.error?console.log(e):console.error(e)}function c(e){downKeys.push(i(e)),console.log(downKeys),console.log(f);for(var t in f){var n=f[t];if(d(downKeys,n.split(" "))){var o=u[n][e.target.selector];downKeys=[];for(var r in o)o[r](e)}}}function a(e){index=downKeys.indexOf(i(e)),-1!==index&&downKeys.splice(index,1)}function i(e){var t;switch(e.keyCode){case 224:t="meta";break;case 91:t="meta";break;case 16:t="shift";break;case 18:t="optn";break;case 17:t="ctrl";break;case 32:t="space";break;case 40:t="down";break;case 39:t="right";break;case 38:t="up";break;case 37:t="left";break;case 9:t="tab";break;case 13:t="rtn"}return t||(t=String.fromCharCode(e.keyCode||e.charCode).toLowerCase()),t}function s(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function d(e,t){if(e.length!==t.length)return!1;for(var n=e.length;n--;)if(!s(t,e[n]))return!1;return!0}var u,f,l,v=e.shortcut;e.addEventListener("keydown",c),e.addEventListener("keyup",a),u={},f=[],downKeys=[],l=function(e,o){var r=!1;return o=o||"body",void 0===u[e]&&(u[e]={}),void 0===u[e][o]?u[e][o]=[]:r=!0,f.push(e),{bindsTo:n,preventDefault:t,keys:e,selector:o,get functions(){return u[o][e]}}},e.shortcut=l,l.noConflict=function(){return e.shortcut=v,this},function(){function t(){if(!n){n=!0,document.querySelector("body").selector="body";for(var e in u){var t=u[e];for(var c in t){var a=o(c);if(!a)return void r("An element was not found for selector: "+selector);a.selector=c}}}}var n=!1;if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){var c;try{c=null!==e.frameElement}catch(a){}if(document.documentElement.doScroll&&!c){var i=function(){if(!n)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(i,10)}};i()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(e.addEventListener)e.addEventListener("load",t,!1);else if(e.attachEvent)e.attachEvent("onload",t);else{var s=e.onload;e.onload=function(){s&&s(),t()}}}()}(window);